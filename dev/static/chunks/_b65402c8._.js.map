{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/acm/CollabLens_BeTheBuilder26/Frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/acm/CollabLens_BeTheBuilder26/Frontend/components/carousel-card.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport type { CarouselItemData } from \"@/data/carousel-items\"\r\n\r\ntype RoleType = \"forge\" | \"compass\" | \"sentinel\" | \"catalyst\" | \"anchor\" | \"parasite\" | \"common\"\r\n\r\ninterface CarouselCardProps {\r\n  item: CarouselItemData\r\n  index: number\r\n  isSettling: boolean\r\n  isInFront: boolean\r\n  width: number\r\n  height: number\r\n  translateZ: number\r\n  quantity: number\r\n  role?: RoleType\r\n}\r\n\r\n// Role color mappings\r\nconst roleColors = {\r\n  forge: {\r\n    primary: \"#FF6B35\", // Orange\r\n    secondary: \"#FF8C42\",\r\n    accent: \"#FFA559\",\r\n    gradient: \"from-[#FF6B35] to-[#FF8C42]\"\r\n  },\r\n  compass: {\r\n    primary: \"#4ECDC4\", // Teal\r\n    secondary: \"#44A3AA\",\r\n    accent: \"#95E1D3\",\r\n    gradient: \"from-[#4ECDC4] to-[#44A3AA]\"\r\n  },\r\n  sentinel: {\r\n    primary: \"#95E1D3\", // Mint\r\n    secondary: \"#78C4B8\",\r\n    accent: \"#B8F3E0\",\r\n    gradient: \"from-[#95E1D3] to-[#78C4B8]\"\r\n  },\r\n  catalyst: {\r\n    primary: \"#F38181\", // Coral\r\n    secondary: \"#E85A5A\",\r\n    accent: \"#F8B195\",\r\n    gradient: \"from-[#F38181] to-[#E85A5A]\"\r\n  },\r\n  anchor: {\r\n    primary: \"#AA96DA\", // Purple\r\n    secondary: \"#8B7AB8\",\r\n    accent: \"#C8B6DB\",\r\n    gradient: \"from-[#AA96DA] to-[#8B7AB8]\"\r\n  },\r\n  parasite: {\r\n    primary: \"#FCBAD3\", // Pink\r\n    secondary: \"#F8A5C2\",\r\n    accent: \"#FFD6E0\",\r\n    gradient: \"from-[#FCBAD3] to-[#F8A5C2]\"\r\n  },\r\n  common: {\r\n    primary: \"#A8DADC\", // Light Blue\r\n    secondary: \"#457B9D\",\r\n    accent: \"#F1FAEE\",\r\n    gradient: \"from-[#A8DADC] to-[#457B9D]\"\r\n  }\r\n}\r\n\r\n// Role image mappings\r\nconst roleImages = {\r\n  forge: \"/images/Forge.png\",\r\n  compass: \"/images/Compass.png\",\r\n  sentinel: \"/images/Sentinel.png\",\r\n  catalyst: \"/images/Catalyst.png\",\r\n  anchor: \"/images/Anchor.png\",\r\n  parasite: \"/images/Parasite.png\",\r\n  common: \"/images/Common.png\"\r\n}\r\n\r\nexport function CarouselCard({\r\n  item,\r\n  index,\r\n  isSettling,\r\n  isInFront,\r\n  width,\r\n  height,\r\n  translateZ,\r\n  quantity,\r\n  role = \"common\"\r\n}: CarouselCardProps) {\r\n  const canFlip = isSettling && isInFront\r\n  const colors = roleColors[role]\r\n\r\n  return (\r\n    <div\r\n      className=\"carousel-card group absolute\"\r\n      style={{\r\n        width: `${width}px`,\r\n        height: `${height}px`,\r\n        transformStyle: \"preserve-3d\",\r\n        transform: `rotateY(${(360 / quantity) * index}deg) translateZ(${translateZ}px)`,\r\n        backfaceVisibility: \"visible\",\r\n      }}\r\n    >\r\n      {/* Card content wrapper - handles the flip when settling and card is in front */}\r\n      <div\r\n        className={cn(\r\n          \"card-content relative h-full w-full rounded-md border border-white/20 transition-all duration-300\",\r\n          canFlip &&\r\n            \"group-hover:[transform:rotateY(180deg)] group-hover:shadow-[0px_0px_20px_1px_#ffbb763f] group-hover:border-white/45\"\r\n        )}\r\n        style={{ transformStyle: \"preserve-3d\" }}\r\n      >\r\n        {/* Front face (default visible state - shows image) */}\r\n        <CardFrontFace item={item} index={index} colors={colors} roleImage={roleImages[role]} />\r\n\r\n        {/* Back face - simple animated gradient (visible when rotating/in back) */}\r\n        <CardBackSimple canFlip={canFlip} colors={colors} />\r\n\r\n        {/* Detailed back face - only for front cards on hover */}\r\n        <CardBackDetailed item={item} canFlip={canFlip} colors={colors} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Front face component - shows the image and basic info\r\nfunction CardFrontFace({\r\n  item,\r\n  index,\r\n  colors,\r\n  roleImage\r\n}: {\r\n  item: CarouselItemData\r\n  index: number\r\n  colors: typeof roleColors.forge\r\n  roleImage: string\r\n}) {\r\n  return (\r\n    <div\r\n      className=\"card-front absolute h-full w-full overflow-hidden rounded-md\"\r\n      style={{\r\n        backgroundColor: colors.primary,\r\n        backfaceVisibility: \"hidden\",\r\n        WebkitBackfaceVisibility: \"hidden\",\r\n        transformStyle: \"preserve-3d\",\r\n      }}\r\n    >\r\n      <img\r\n        src={roleImage}\r\n        alt={item.title || `Carousel image ${index + 1}`}\r\n        className=\"absolute h-full w-full object-cover object-center\"\r\n        crossOrigin=\"anonymous\"\r\n      />\r\n      <div\r\n        className=\"absolute flex h-full w-full flex-col justify-between p-2.5\"\r\n        style={{\r\n          backfaceVisibility: \"hidden\",\r\n          WebkitBackfaceVisibility: \"hidden\",\r\n        }}\r\n      >\r\n        {item.badge && (\r\n          <span\r\n            className=\"w-fit rounded-[10px] bg-black/30 px-2.5 py-0.5 text-xs text-white backdrop-blur-sm\"\r\n            style={{\r\n              backfaceVisibility: \"hidden\",\r\n              WebkitBackfaceVisibility: \"hidden\",\r\n            }}\r\n          >\r\n            {item.badge}\r\n          </span>\r\n        )}\r\n        <div\r\n          className=\"w-full rounded-md bg-black/60 p-2.5 shadow-[0px_0px_10px_5px_rgba(0,0,0,0.5)] backdrop-blur-sm\"\r\n          style={{\r\n            backfaceVisibility: \"hidden\",\r\n            WebkitBackfaceVisibility: \"hidden\",\r\n          }}\r\n        >\r\n          <div className=\"flex justify-between text-[11px] text-white\">\r\n            <p className=\"w-1/2\">{item.title || \"Title\"}</p>\r\n            <p className=\"w-1/2 text-right\">{item.subtitle || \"Subtitle\"}</p>\r\n          </div>\r\n          {item.footer && (\r\n            <p className=\"mt-1 text-[8px] text-white/50\">{item.footer}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Simple back face - animated gradient with floating circles\r\nfunction CardBackSimple({ canFlip, colors }: { canFlip: boolean; colors: typeof roleColors.forge }) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"card-back absolute flex h-full w-full items-center justify-center overflow-hidden rounded-md\",\r\n        canFlip && \"group-hover:opacity-0\"\r\n      )}\r\n      style={{\r\n        backgroundColor: colors.primary,\r\n        backfaceVisibility: \"hidden\",\r\n        transform: \"rotateY(180deg)\",\r\n        transition: \"opacity 0.3s ease\",\r\n      }}\r\n    >\r\n      {/* Animated gradient border */}\r\n      <div className={`absolute h-[160%] w-40 animate-[border-spin_5s_linear_infinite] bg-gradient-to-r ${colors.gradient}`} />\r\n\r\n      {/* Simple animated gradient with circles */}\r\n      <div className=\"absolute flex h-[99%] w-[99%] flex-col items-center justify-center gap-6 rounded-md\" style={{ backgroundColor: colors.primary }}>\r\n        <div className=\"circle absolute left-2 top-4 h-[90px] w-[90px] animate-[floating_2.6s_linear_infinite] rounded-full blur-[15px]\" style={{ backgroundColor: colors.accent }} />\r\n        <div className=\"circle absolute left-[50px] top-0 h-[150px] w-[150px] animate-[floating_2.6s_linear_infinite_-800ms] rounded-full blur-[15px]\" style={{ backgroundColor: colors.secondary }} />\r\n        <div className=\"circle absolute left-[160px] top-[-80px] h-[30px] w-[30px] animate-[floating_2.6s_linear_infinite_-1800ms] rounded-full blur-[15px]\" style={{ backgroundColor: colors.primary }} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Detailed back face - shows content when front card flips\r\nfunction CardBackDetailed({\r\n  item,\r\n  canFlip,\r\n  colors\r\n}: {\r\n  item: CarouselItemData\r\n  canFlip: boolean\r\n  colors: typeof roleColors.forge\r\n}) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"card-back-detail absolute flex h-full w-full items-center justify-center overflow-hidden rounded-md opacity-0\",\r\n        canFlip && \"group-hover:opacity-100\"\r\n      )}\r\n      style={{\r\n        backgroundColor: colors.primary,\r\n        backfaceVisibility: \"hidden\",\r\n        transform: \"rotateY(180deg)\",\r\n        transition: \"opacity 0.3s ease\",\r\n      }}\r\n    >\r\n      {/* Animated gradient border */}\r\n      <div className={`absolute h-[160%] w-40 animate-[border-spin_5s_linear_infinite] bg-gradient-to-r ${colors.gradient}`} />\r\n\r\n      <div className=\"absolute flex h-[99%] w-[99%] flex-col justify-between overflow-hidden rounded-md p-4\" style={{ backgroundColor: colors.primary }}>\r\n        {/* Floating circles (background) */}\r\n        <div className=\"circle absolute left-2 top-4 h-[90px] w-[90px] animate-[floating_2.6s_linear_infinite] rounded-full opacity-30 blur-[15px]\" style={{ backgroundColor: colors.accent }} />\r\n        <div className=\"circle absolute right-0 top-0 h-[150px] w-[150px] animate-[floating_2.6s_linear_infinite_-800ms] rounded-full opacity-30 blur-[15px]\" style={{ backgroundColor: colors.secondary }} />\r\n\r\n        {/* Content */}\r\n        <div className=\"relative z-10 flex flex-col gap-2\">\r\n          <h3 className=\"text-sm font-semibold text-white\">\r\n            {item.backContent?.heading || item.title || \"Details\"}\r\n          </h3>\r\n          <p className=\"text-[10px] leading-relaxed text-white/70\">\r\n            {item.backContent?.description ||\r\n              \"Hover to explore more about this item.\"}\r\n          </p>\r\n\r\n          {/* Stats */}\r\n          {item.backContent?.stats && (\r\n            <div className=\"mt-1 flex gap-3\">\r\n              {item.backContent.stats.map((stat, i) => (\r\n                <div key={i} className=\"flex flex-col\">\r\n                  <span className=\"text-xs font-bold\" style={{ color: colors.accent }}>\r\n                    {stat.value}\r\n                  </span>\r\n                  <span className=\"text-[8px] text-white/50\">{stat.label}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Tags */}\r\n        {item.backContent?.tags && (\r\n          <div className=\"relative z-10 flex flex-wrap gap-1\">\r\n            {item.backContent.tags.map((tag, i) => (\r\n              <span\r\n                key={i}\r\n                className=\"rounded-full bg-white/10 px-2 py-0.5 text-[8px] text-white/70\"\r\n              >\r\n                {tag}\r\n              </span>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* CTA */}\r\n        <div className=\"relative z-10\">\r\n          <button className={`w-full rounded-md bg-gradient-to-r ${colors.gradient} py-1.5 text-[10px] font-medium text-white transition-opacity hover:opacity-90`}>\r\n            {item.backContent?.ctaText || \"Learn More\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 472, "column": 0}, "map": {"version":3,"sources":["file:///D:/acm/CollabLens_BeTheBuilder26/Frontend/components/rotating-carousel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { CarouselCard } from \"./carousel-card\"\r\nimport type { CarouselItemData } from \"@/data/carousel-items\"\r\n\r\ninterface RotatingCarouselProps {\r\n  items: CarouselItemData[]\r\n  width?: number\r\n  height?: number\r\n  sensitivity?: number\r\n  className?: string\r\n}\r\n\r\nexport function RotatingCarousel({\r\n  items,\r\n  width = 190,\r\n  height = 254,\r\n  sensitivity = 0.15,\r\n  className,\r\n}: RotatingCarouselProps) {\r\n  // Shuffle items on mount\r\n  const [shuffledItems, setShuffledItems] = useState<CarouselItemData[]>([])\r\n  \r\n  useEffect(() => {\r\n    const shuffled = [...items].sort(() => Math.random() - 0.5)\r\n    setShuffledItems(shuffled)\r\n  }, [items])\r\n\r\n  const quantity = shuffledItems.length\r\n  const translateZ = width + height\r\n  const containerRef = useRef<HTMLDivElement>(null)\r\n  const carouselRef = useRef<HTMLDivElement>(null)\r\n\r\n  // Use refs for animation state to avoid re-renders\r\n  const targetRotation = useRef(0)\r\n  const currentRotation = useRef(0)\r\n  const animationFrame = useRef<number | null>(null)\r\n\r\n  // Track if carousel has stopped spinning\r\n  const [isStopped, setIsStopped] = useState(true)\r\n  const [isSettling, setIsSettling] = useState(true)\r\n  const [currentAngle, setCurrentAngle] = useState(0)\r\n  const lastScrollTime = useRef(0)\r\n  const hasSnapped = useRef(false)\r\n\r\n  // Calculate the angle per card\r\n  const anglePerCard = 360 / quantity\r\n\r\n  // Check if a card is facing the front (within threshold)\r\n  const isCardInFront = (cardIndex: number) => {\r\n    const cardAngle = (360 / quantity) * cardIndex\r\n    let normalizedRotation = currentAngle % 360\r\n    if (normalizedRotation < 0) normalizedRotation += 360\r\n\r\n    let effectiveAngle = (cardAngle + normalizedRotation) % 360\r\n    if (effectiveAngle < 0) effectiveAngle += 360\r\n\r\n    return effectiveAngle < 45 || effectiveAngle > 315\r\n  }\r\n\r\n  // Function to snap to nearest card\r\n  const snapToNearestCard = () => {\r\n    let normalizedRotation = currentRotation.current % 360\r\n    if (normalizedRotation < 0) normalizedRotation += 360\r\n\r\n    const closestCardIndex = Math.round(normalizedRotation / anglePerCard)\r\n    const snappedAngle = closestCardIndex * anglePerCard\r\n\r\n    const fullTurns = Math.floor(currentRotation.current / 360)\r\n    targetRotation.current = fullTurns * 360 + snappedAngle\r\n\r\n    if (Math.abs(targetRotation.current - currentRotation.current) > 180) {\r\n      if (targetRotation.current > currentRotation.current) {\r\n        targetRotation.current -= 360\r\n      } else {\r\n        targetRotation.current += 360\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const lerp = (start: number, end: number, factor: number) => {\r\n      return start + (end - start) * factor\r\n    }\r\n\r\n    const animate = () => {\r\n      const prevRotation = currentRotation.current\r\n\r\n      currentRotation.current = lerp(\r\n        currentRotation.current,\r\n        targetRotation.current,\r\n        0.08\r\n      )\r\n\r\n      const rotationDelta = Math.abs(currentRotation.current - prevRotation)\r\n      const isNearlyStationary = rotationDelta < 0.05\r\n      const timeSinceScroll = Date.now() - lastScrollTime.current\r\n\r\n      if (isNearlyStationary && timeSinceScroll > 200 && !hasSnapped.current) {\r\n        hasSnapped.current = true\r\n        snapToNearestCard()\r\n        setIsSettling(true)\r\n      }\r\n\r\n      const distanceToTarget = Math.abs(\r\n        currentRotation.current - targetRotation.current\r\n      )\r\n      if (distanceToTarget < 0.1 && timeSinceScroll > 300) {\r\n        setIsStopped(true)\r\n      }\r\n\r\n      if (distanceToTarget < 15 && hasSnapped.current) {\r\n        setIsSettling(true)\r\n      }\r\n\r\n      setCurrentAngle(currentRotation.current)\r\n\r\n      if (carouselRef.current) {\r\n        carouselRef.current.style.transform = `perspective(1000px) rotateX(-3deg) rotateY(${currentRotation.current}deg)`\r\n      }\r\n\r\n      animationFrame.current = requestAnimationFrame(animate)\r\n    }\r\n\r\n    animationFrame.current = requestAnimationFrame(animate)\r\n\r\n    return () => {\r\n      if (animationFrame.current) {\r\n        cancelAnimationFrame(animationFrame.current)\r\n      }\r\n    }\r\n  }, [anglePerCard])\r\n\r\n  useEffect(() => {\r\n    const handleWheel = (e: WheelEvent) => {\r\n      e.preventDefault()\r\n\r\n      setIsStopped(false)\r\n      setIsSettling(false)\r\n      lastScrollTime.current = Date.now()\r\n      hasSnapped.current = false\r\n\r\n      const delta =\r\n        Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY\r\n\r\n      targetRotation.current += delta * sensitivity\r\n    }\r\n\r\n    const container = containerRef.current\r\n    if (container) {\r\n      container.addEventListener(\"wheel\", handleWheel, { passive: false })\r\n    }\r\n\r\n    return () => {\r\n      if (container) {\r\n        container.removeEventListener(\"wheel\", handleWheel)\r\n      }\r\n    }\r\n  }, [sensitivity])\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className={cn(\r\n        \"relative flex h-screen w-screen items-center justify-center overflow-hidden bg-background\",\r\n        className\r\n      )}\r\n    >\r\n      <div\r\n        ref={carouselRef}\r\n        className=\"absolute z-10 will-change-transform\"\r\n        style={\r\n          {\r\n            \"--translateZ\": `${translateZ}px`,\r\n            width: `${width}px`,\r\n            height: `${height}px`,\r\n            transformStyle: \"preserve-3d\",\r\n            transform: `perspective(1000px) rotateX(-3deg) rotateY(0deg)`,\r\n          } as React.CSSProperties\r\n        }\r\n      >\r\n        {shuffledItems.map((item, index) => (\r\n          <CarouselCard\r\n            key={`${item.title}-${index}`}\r\n            item={item}\r\n            index={index}\r\n            isSettling={isSettling}\r\n            isInFront={isCardInFront(index)}\r\n            width={width}\r\n            height={height}\r\n            translateZ={translateZ}\r\n            quantity={quantity}\r\n            role={item.role}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}